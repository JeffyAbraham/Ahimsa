{"ast":null,"code":"import { auth, createUser, addDatatoFireBase } from \"../../firebase/firebase.util\";\nexport const setCurrentUser = user => ({\n  type: \"SET_CURRENT_USER\",\n  payload: user\n});\nexport const siginWithEmail = () => {\n  return dispatch => {\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      //addDatatoFireBase('collection',collectionItems)\n      if (userAuth) {\n        //If userdata dosen't exist then create a new users\n        console.log(userAuth);\n        const userRef = createUser(userAuth, userAuth.displayName, \"called from sigin\"); //returns all the data related to the logged in user merged with user Auth details\n\n        (await userRef).onSnapshot(Snapshot => {\n          setCurrentUser({\n            id: Snapshot.id,\n            ...Snapshot.data()\n          });\n        });\n        return;\n      } //if user is logged out set the state to null\n\n\n      console.log(userAuth);\n      setCurrentUser(userAuth);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/exist/Documents/VeganShop/ahimsa/src/redux/user/user-action.js"],"names":["auth","createUser","addDatatoFireBase","setCurrentUser","user","type","payload","siginWithEmail","dispatch","unsubscribeFromAuth","onAuthStateChanged","userAuth","console","log","userRef","displayName","onSnapshot","Snapshot","id","data"],"mappings":"AAAA,SAASA,IAAT,EAAeC,UAAf,EAA0BC,iBAA1B,QAAmD,8BAAnD;AAKA,OAAO,MAAMC,cAAc,GAAIC,IAAD,KAAW;AACvCC,EAAAA,IAAI,EAAE,kBADiC;AAEvCC,EAAAA,OAAO,EAAEF;AAF8B,CAAX,CAAvB;AASP,OAAO,MAAOG,cAAc,GAAC,MAAK;AAChC,SAAQC,QAAD,IAAc;AACnB,SAAKC,mBAAL,GAA2BT,IAAI,CAACU,kBAAL,CAAwB,MAAOC,QAAP,IAAoB;AACrE;AAEA,UAAIA,QAAJ,EAAc;AACZ;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,cAAMG,OAAO,GAAGb,UAAU,CACxBU,QADwB,EAExBA,QAAQ,CAACI,WAFe,EAGxB,mBAHwB,CAA1B,CAHY,CAQZ;;AACA,SAAC,MAAMD,OAAP,EAAgBE,UAAhB,CAA4BC,QAAD,IAAc;AACvCd,UAAAA,cAAc,CAAC;AAAEe,YAAAA,EAAE,EAAED,QAAQ,CAACC,EAAf;AAAmB,eAAGD,QAAQ,CAACE,IAAT;AAAtB,WAAD,CAAd;AACD,SAFD;AAIA;AACD,OAjBoE,CAkBrE;;;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAR,MAAAA,cAAc,CAACQ,QAAD,CAAd;AACD,KArB0B,CAA3B;AAsBD,GAvBD;AAwBD,CAzBM","sourcesContent":["import { auth, createUser,addDatatoFireBase } from \"../../firebase/firebase.util\";\r\n\r\n\r\n\r\n\r\nexport const setCurrentUser = (user) => ({\r\n  type: \"SET_CURRENT_USER\",\r\n  payload: user,\r\n});\r\n\r\n\r\n\r\n\r\n\r\nexport const  siginWithEmail=()=> {\r\n  return (dispatch) => {\r\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\r\n      //addDatatoFireBase('collection',collectionItems)\r\n\r\n      if (userAuth) {\r\n        //If userdata dosen't exist then create a new users\r\n        console.log(userAuth);\r\n        const userRef = createUser(\r\n          userAuth,\r\n          userAuth.displayName,\r\n          \"called from sigin\"\r\n        );\r\n        //returns all the data related to the logged in user merged with user Auth details\r\n        (await userRef).onSnapshot((Snapshot) => {\r\n          setCurrentUser({ id: Snapshot.id, ...Snapshot.data() });\r\n        });\r\n\r\n        return;\r\n      }\r\n      //if user is logged out set the state to null\r\n      console.log(userAuth);\r\n      setCurrentUser(userAuth);\r\n    });\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}